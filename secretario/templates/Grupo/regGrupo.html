{% extends "layout.html" %}

{% block contenido %}
	<div id="mainGrupo" class="col-lg-12">
		<div class="form-panel row">
			<h3 class="text-center titlecolor"><i class="fa fa-angle-right"></i>Grupo de Predicaci√≥n</h3>

			<div>
				{% csrf_token %}
				<div class="form-group">
					<div class="col-xs-12 col-md-2 col-md-offset-2">
						<label for="idgrupo">Numero de Grupo:</label>
						<input type="number" id="idgrupo" class="form-control mrg-bottom">
					</div>

					<div class="col-xs-12 col-md-3">
						<label for="enc">Encargado:</label>
						<select id="enc" class="form-control mrg-bottom">
							<option value="">Seleccione un Encargado</option>
						</select>
					</div>

					<div class="col-xs-12 col-md-3">
						<label for="aux">Auxiliar:</label>
						<select id="aux" class="form-control mrg-bottom">
							<option value="">Seleccione un Auxiliar</option>
						</select>
					</div>
				</div>

				<div class="clearfix"></div>

				<div class="col-lg-6" style="margin-top: 40px;">
					<div class="content-panel">
						<section id="tabla1">

							<h3 class="text-center titlecolor cabecero">Publicadores</h3>

							<div class="col-lg-6 Nfilter">
								<input type="text" id="filtro1" class="form-control" placeholder="Buscar...">
							</div>

							<table id="publics" class="display table table-condensed cf" cellspacing="0" style="font-size:14px;" width:"100%">
								<thead class="cf">
									<tr>
										<th style="width:5%;">
											<input type="checkbox" id="selectAll" />
										</th>
										<th class="numeric text-center">Nombre y Apellido</th>
										<th class="numeric text-center">Direccion</th>
										<th class="numeric text-center">Fecha de Bautismo</th>
										<th class="numeric text-center">Estado</th>
									</tr>
								</thead>
								<tbody>
								{% for pubs in pub %}
									<tr id="{{ pubs.pk }}">
										<td></td>
										<td class="numeric text-center" data-title="Nombre y Apellido">
											{{ pubs.nombre }} {{ pubs.apellido }}
										</td>
										<td class="numeric text-center" data-title="Fecha de Bautismo">
											{{ pubs.fechaBau }}
										</td>
										<td class="numeric text-center" data-title="Tiempo Bautizado">
											{{ pubs.tiempoB }}
										</td>
									</tr>
								{% endfor %}
								</tbody>
							</table>

							<div style="height:80px;">
								<nav class="center-block">
								  <ul id="pager1" class="pagination pager hide" >
									<li>
									  <a href="#" aria-label="P">
										<span aria-hidden="true">&laquo;</span>
									  </a>
									</li>
									<li>
									  <a href="#" aria-label="N">
										<span aria-hidden="true">&raquo;</span>
									  </a>
									</li>
								  </ul>
								</nav>
							</div>
						</section>
					</div>
				</div>

				<div class="col-lg-6" style="margin-top: 40px;">
					<div class="content-panel">
						<section id="tabla2">

						   <h3 class="text-center titlecolor cabecero">Publicadores Asignados al Grupo</h3>

							<div class="col-lg-6 Nfilter">
								<input type="text" id="filtro2" class="form-control" placeholder="Buscar...">
							</div>

							<table id="nombrar" class="display table table-condensed cf" cellspacing="0" style="font-size:14px;" width:"100%">
								<thead class="cf">
									<tr>
										<th style="width:5%;">
											<input type="checkbox" id="selectAll2" />
										</th>
										<th class="numeric text-center">Nombre y Apellido</th>
										<th class="numeric text-center">Fecha de Bautismo</th>
										<th class="numeric text-center">Estado</th>
									</tr>
								</thead>
								<tbody>
								</tbody>
							</table>

							<div style="height:80px;">
								<nav class="center-block">
								  <ul id="pager2" class="pagination pager hide">
									<li>
									  <a href="#" aria-label="P">
										<span aria-hidden="true">&laquo;</span>
									  </a>
									</li>
									<li>
									  <a href="#" aria-label="N">
										<span aria-hidden="true">&raquo;</span>
									  </a>
									</li>
								  </ul>
								</nav>
							</div>
						</section>
					</div>
				</div>

				<div class="clearfix"></div>

				<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 col-sm-offset-3 col-md-offset-4">
					<button id="btnSave" class="btn btn-primary btn-block">Crear</button>
				</div>
			</div>
		</div>
	</div>
{% endblock %}



{% block scripts %}
	<script>
/*		$(document).ready(function() {
			div = $('#mainGrupo')
			maxwidth = $(window).width()
			if(maxwidth >= 1200 && maxwidth < 1440 ){
				div.removeClass('col-lg-4').removeClass('col-lg-offset-4')
				div.addClass('col-lg-6').addClass('col-lg-offset-3')
			} else if(maxwidth > 1440){
				div.removeClass('col-lg-6').removeClass('col-lg-offset-3')
				div.addClass('col-lg-4').addClass('col-lg-offset-4')
			}
		});

		$(window).resize(function(){
			div = $('#mainGrupo')
			maxwidth = $(window).width()
			if(maxwidth >= 1200 && maxwidth < 1440 ){
				div.removeClass('col-lg-4').removeClass('col-lg-offset-4')
				div.addClass('col-lg-6').addClass('col-lg-offset-3')
			} else if(maxwidth > 1440){
				div.removeClass('col-lg-6').removeClass('col-lg-offset-3')
				div.addClass('col-lg-4').addClass('col-lg-offset-4')
			}
		})*/

		$('#btnSave').click(function(){
            limpiar=function(res){
                obj.Cargar()
            }
            obj = new Gestion()
            obj.getInputs('.form-group')
            input=obj.getDataIn()

            if(input.vacio == 0){
                keys = new Array('encargado', 'auxiliar')

                obj.generateJson(keys, '{{ csrf_token }}')

                obj.setPost("{% url 'secretario:grupos_registrar' %}", 'Registro de Grupos!', limpiar)
            }
		})

	</script>
{% endblock %}
